<!-- 
Sebastian Morgese
smorgese@ucsc.edu
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Assignment 3</title>
</head>

<body onload="main()">
  <!-- Canvas at the top -->
  <canvas
    id="webgl"
    width="1200"
    height="400"
    style="width: 98vw; max-width: 2000px; height: auto; display: block; margin: 0 auto; border-radius: 8px;"
  >
    Please use a browser that supports "canvas"
  </canvas>
  <p>
    <strong>Performance:</strong> <br>
    <span id="numdot">XXX</span>
  </p>

  <!-- Table row below the canvas -->
  <table width="100%">
    <tr>
      <!-- Left: Controls/Sliders/Buttons -->
      <td valign="top" style="width:20%">
        <section>
          <strong>World Controls:</strong>
          <p>
            Noise Offset X:
            <input type="range" min="-200" max="200" value="0" step="1" class="slider" id="noiseOffsetXSlide" />
          </p>
          <p>
            Noise Offset Z:
            <input type="range" min="-200" max="200" value="0" step="1" class="slider" id="noiseOffsetZSlide" />
          </p>
          <p>
            Noise Scale: &nbsp &nbsp  
            <input type="range" min="22" max="100" value="22" step="1" class="slider" id="noiseScaleSlide" />
          </p>
          <p>
            Toggle Eye of Cthulhu:
            <button id="toggleEyeBtn">Summon the Eye</button>
          </p>
          <p>
            Toggle Particles:
            <button id="toggleParticlesBtn">Enable Particles</button>
          </p>
        </section>
      </td>

      <!-- Right: Player Controls -->
      <td valign="top" style="width:80%">
        <strong>Player Controls:</strong>
        <ul style="padding-left: 1em;">
          <li><b>WASD</b>: Move</li>
          <li><b>Q</b>: Pan Left</li>
          <li><b>E</b>: Pan Right</li>
          <li><b>Space</b>: Up</li>
          <li><b>Ctrl</b>: Down</li>
          <li><b>Shift</b>: Sprint</li>
          <li><b>Mouse</b>: Look</li>
          <li><b>F</b>: Add Block</li>
          <li><b>G</b>: Delete Block</li>
        </ul>
      </td>
    </tr>
  </table>

  <!-- External Sources Dropdown -->
  <section class="bottom">
    <label for="sources"><strong>External Sources:</strong></label>
    <select id="sources" onchange="if(this.value) window.open(this.value)">
      <option value=""></option>
      <option value="https://www.youtube.com/watch?v=IKB1hWWedMk">
        [link] The Coding Train - Terrain Generation with Perlin Noise
      </option>
      <option value="https://github.com/josephg/noisejs/blob/master/perlin.js">
        [link] josephg/noisejs - Perlin noise lib
      </option>
      <option value="https://minecraft.fandom.com/wiki/List_of_block_textures">
        [link] Wiki - Sand texture
      </option>
      <option value="https://www.pinpng.com/picture/TRiJwRh_creeper-texture-png-diy-minecraft-grass-block-transparent/">
        [link] Pinpng - Grass texture
      </option>
      <option value="https://webglfundamentals.org/webgl/lessons/webgl-3d-textures.html">
        [link] WebGL Fundamentals - Textures and UV Mapping
      </option>
      <option value="https://learnopengl.com/Advanced-OpenGL/Blending">
        [link] LearnOpenGL - Blending and Transparency
      </option>
      <option value="https://developer.mozilla.org/en-US/docs/Web/API/Pointer_Lock_API">
        [link] MDN - Pointer Lock API
      </option>
      <option value="">
        [info] ChatGPT â€“ Helped convert camera from "orbiting mode" to a first-person player view
      </option>
      <option value="">
        [info] ChatGPT - Helped develop and debug the Eye of Cthulhu update() and render() functions
      </option>
      <option value="">
        [info] ChatGPT - Helped debug my add/break block funcitons
      </option> 
    </select>
  </section>

  <!-- Notes to Grader -->
  <section class="grader-notes" style="margin-top: 20px; padding: 15px; background-color: #f5f5f5; border-radius: 8px;">
    <Strong>Notes to Grader:</Strong>
    <ul>
      <li><Strong>Story:</Strong> You have to keep away from the Eye of Cthulhu, who's always chasing you (upon pressing the toggle button). The eye follows you around the procedurally generated terrain, creating a tense atmosphere.</li>
      <li><Strong>Wow Factors:</Strong>
        <ul>
          <li>Procedural terrain generation using Simplex noise (with controls for offset and scale)</li>
          <li>Simple particle system with billboarding that emits from the eye's surface</li>
          <li>Semi-realistic tendril movement that sways based on the eye's turning direction</li>
        </ul>
      </li>
      <li>There's some white artifacting on the grass blocks due to texture bleeding issues from mipmapping. This was caused by using a less-than-ideal base texture.</li>
      <li>Any blocks placed must be over the 32x32 map area. </li>
    </ul>
  </section>

  <!-- Scripts -->
  <script src="../lib/cuon-matrix-cse160.js"></script>
  <script src="../lib/webgl-utils.js"></script>
  <script src="../lib/webgl-debug.js"></script>
  <script src="../lib/cuon-utils.js"></script>
  <script src="../lib/perlin.js"></script>
  <script src="triangles.js"></script>
  <script src="cylinders.js"></script>
  <script src="cubes.js"></script>
  <script src="camera.js"></script>
  <script src="eye_of_cthulhu.js"></script>
  <script src="asg3.js"></script>
</body>
</html>
